<!--
Open Bank Project - Sofi Web Application
Copyright (C) 2011 - 2021, TESOBE GmbH

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU Affero General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Affero General Public License for more details.

You should have received a copy of the GNU Affero General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>.

Email: contact@tesobe.com
TESOBE GmbH.
Osloer Str. 16/17
Berlin 13359, Germany

  This product includes software developed at
  TESOBE (http://www.tesobe.com/)
  by
  Simon Redfern : simon AT tesobe DOT com
  Stefan Bethge : stefan AT tesobe DOT com
  Everett Sochowski : everett AT tesobe DOT com
  Ayoub Benali: ayoub AT tesobe DOT com
-->

<!--
This renders the entitlements / permissions page for an account.
e.g. http://localhost:8080/banks/bnpparibas-fr/accounts/1219682756/views/list

See views.js for the javascript which manipulates the DOM for editing

-->

<div id="views" data-lift="surround?with=default;at=content">
	<!-- account-info section_start -->
	<section class="account-info account-info--public">
		<div class="account-info__box account-info__box--views">
			<div class="account-info__top-wrapper" data-lift="ViewsOverview.accountTitle" >
				<h3 class="account-info__box-headline account-title">ACCOUNT</h3>
				<div data-lift="embed?what=_nav_account_settings"></div>
			</div>
			<div class="account-info__views-buttons-wrap">
				<button id="add-view" class="views-buttons-wrap__button">Add new view</button>
		  		<div id="add-view-form" data-lift="ViewsOverview.setupAddView">
					<form data-lift="form.ajax">
					  <input type="text" name="new_view_name" placeholder="Enter view name ..." required="required">
					  <input class="views-buttons-wrap__button" type="submit" value="Save">&nbsp;
					  <button class="views-buttons-wrap__button" id="add-view-cancel">Cancel</button>
					</form>
			 	</div>

				<button id="view-edit-advanced-options" class="views-buttons-wrap__button">Hide advanced options</button>
			</div>
			<table data-lift="ViewsOverview.getTableContent" class="views-table">
				<thead class="views-table-head">
					<tr class="views-table-head__row">
						<td class="views-table-head__cell view_permissions"></td>
						<td class="views-table-head__cell view_name">Public</td>
					</tr>
				</thead>
				<tbody class="views-table-body">
					<tr class="views-table-body__row">
						<td class="views-table-body__cell"></td>
						<td class="views-table-body__cell action-buttons">
							<button class="views-table-body__button edit-button action">Edit</button>
							<button class="views-table-body__button save-button action">Save</button>
						  	<button class="views-table-body__button delete-button action">Delete</button>
						  	<button class="views-table-body__button cancel-button action">Cancel</button>
						</td>
					</tr>
					<tr class="views-table-body__row">
						<td class="views-table-body__cell views-table-body__cell--bold main-attributes">Visible to anyone (public)</td>
						<td class="views-table-body__cell is_public">
							<div class="onoffswitch">
								<input type="checkbox" name="onoffswitch-public-view" class="onoffswitch-checkbox is_public_cb" name="is_public" value="is_public" id="myonoffswitch-public-view">
								<label class="onoffswitch-label" for="myonoffswitch-public-view">
									<span class="onoffswitch-inner"></span>
									<span class="onoffswitch-switch"></span>
								</label>
							</div>
						</td>
					</tr>
					<tr class="views-table-body__row advanced-option">
						<td class="views-table-body__cell">Description</td>
						<td class="views-table-body__cell description"><span class="desc">description</span><input class="desc_input" type="text" value=""></td>
					</tr>
					<tr class="views-table-body__row advanced-option">
						<td class="views-table-body__cell">Metadata View</td>
						<td class="views-table-body__cell metadata_view"><span class="metadataView">owner</span><input class="metadata_view_input" type="text" value=""></td>
					</tr>
					<tr class="views-table-body__row advanced-option">
						<td class="views-table-body__cell">Alias</td>
						<td class="views-table-body__cell alias"></td>
					</tr>
					<tr class="views-table-body__row permissions advanced-option">
						<td class="views-table-body__cell permission_name">Permission name</td>
						<td class="views-table-body__cell permission_value">
							<div class="onoffswitch">
								<input type="checkbox" name="myonoffswitch-permission-view" value="id" class="onoffswitch-checkbox permission_value_cb" id="myonoffswitch-permission-view">
								<label class="onoffswitch-label" for="myonoffswitch-permission-view">
									<span class="onoffswitch-inner"></span>
									<span class="onoffswitch-switch"></span>
								</label>
							</div>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
	</section>
	<!-- account-info section_end -->
</div>
